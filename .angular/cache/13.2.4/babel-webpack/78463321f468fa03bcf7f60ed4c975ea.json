{"ast":null,"code":"import { FormArray, FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/on-start\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\n\nfunction ReactiveFormComponent_span_9_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"This name is forbidden!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ReactiveFormComponent_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 20);\n    i0.ɵɵtemplate(1, ReactiveFormComponent_span_9_span_1_Template, 2, 0, \"span\", 21);\n    i0.ɵɵtext(2, \" This field is required!\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.signupForm.get(\"userData.username\").errors[\"nameIsForbidden\"]);\n  }\n}\n\nfunction ReactiveFormComponent_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 20);\n    i0.ɵɵtext(1, \"Please enter a valid email\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ReactiveFormComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelement(1, \"input\", 22);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const i_r7 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formControlName\", i_r7);\n  }\n}\n\nfunction ReactiveFormComponent_option_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const status_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", status_r8);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", status_r8, \" \");\n  }\n}\n\nfunction ReactiveFormComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"label\");\n    i0.ɵɵelement(2, \"input\", 25);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const sex_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", sex_r9);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", sex_r9, \" \");\n  }\n}\n\nexport let ReactiveFormComponent = /*#__PURE__*/(() => {\n  class ReactiveFormComponent {\n    constructor(startPage) {\n      this.startPage = startPage;\n      this.sexes = [\"male\", \"female\"];\n      this.forbiddenUserNames = ['Chris', 'Anna'];\n      this.accountStatuses = ['Deafault', 'Premium', 'Gold'];\n    }\n\n    ngOnInit() {\n      // Initializing form before rendering it in the template (lifecycle hook is usefull for this!)\n      //  this.signupForm = new FormGroup({}) - like this we create simple form, without any controls\n      //  controls are key-value pairs\n      this.signupForm = new FormGroup({\n        // here we use nesting for our Controls, in new FormGroup which also takes a JS object\n        'userData': new FormGroup({\n          'username': new FormControl(null, [Validators.required, this.forbiddenNames.bind(this)]),\n          'email': new FormControl(null, [Validators.required, Validators.email], this.forbiddenEmails)\n        }),\n        'sex': new FormControl('male'),\n        'hobbies': new FormArray([]),\n        'accountStatus': new FormControl('Deafault', Validators.required)\n      }); //  'username': new FormControl(initial value, single/array of Validators, ASYNC validators)\n      // new FormControl() - constructor with 3 potential arg's\n    } // We configurating the hole form in the .ts file, \n    // that's why we should maintain all kind of validation here!\n\n\n    onSubmit() {\n      // gaining access to the form \n      console.log(this.signupForm); // this.signupForm.reset();\n    }\n\n    onAddHobby() {\n      const control = new FormControl(null, Validators.required);\n      this.signupForm.get('hobbies').push(control);\n    } // Custom Validator\n\n\n    forbiddenNames(control) {\n      if (this.forbiddenUserNames.indexOf(control.value) !== -1) {\n        return {\n          'nameIsForbidden': true\n        };\n      }\n\n      return null;\n    } // ASYNC CUSTOM VALIDATORS\n\n\n    forbiddenEmails(control) {\n      const promise = new Promise((resolve, reject) => {\n        setTimeout(() => {\n          if (control.value === 'test@test.com') {\n            resolve({\n              'emailIsForbidden': true\n            });\n          } else {\n            resolve(null);\n          }\n        }, 1500);\n      });\n      return promise;\n    } // Go on /start page\n\n\n    onStart() {\n      this.startPage.onStart();\n    }\n\n  }\n\n  ReactiveFormComponent.ɵfac = function ReactiveFormComponent_Factory(t) {\n    return new (t || ReactiveFormComponent)(i0.ɵɵdirectiveInject(i1.OnStart));\n  };\n\n  ReactiveFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ReactiveFormComponent,\n    selectors: [[\"app-reactive-form\"]],\n    decls: 32,\n    vars: 7,\n    consts: [[1, \"box\"], [3, \"formGroup\", \"ngSubmit\"], [\"formGroupName\", \"userData\"], [1, \"form-group\"], [\"for\", \"username\"], [\"type\", \"text\", \"id\", \"username\", \"formControlName\", \"username\", 1, \"form-control\"], [\"class\", \"help-block\", 4, \"ngIf\"], [\"for\", \"email\"], [\"type\", \"text\", \"id\", \"email\", 1, \"form-control\", 3, \"formControlName\"], [\"formArrayName\", \"hobbies\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"class\", \"form-group\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"status\"], [\"id\", \"status\", \"formControlName\", \"accountStatus\", 1, \"form-control\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"radio\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"back-btn\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"50\", \"height\", \"50\", \"viewBox\", \"0 0 24 24\", 1, \"back\"], [\"d\", \"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm3.222 18.917c5.666-5.905-.629-10.828-5.011-7.706l1.789 1.789h-6v-6l1.832 1.832c7.846-6.07 16.212 4.479 7.39 10.085z\"], [1, \"help-block\"], [4, \"ngIf\"], [\"type\", \"text\", 1, \"form-control\", 3, \"formControlName\"], [3, \"value\"], [1, \"radio\"], [\"type\", \"radio\", \"formControlName\", \"sex\", 3, \"value\"]],\n    template: function ReactiveFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\");\n        i0.ɵɵtext(2, \"Reactive Form\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function ReactiveFormComponent_Template_form_ngSubmit_3_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"label\", 4);\n        i0.ɵɵtext(7, \"Username\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(8, \"input\", 5);\n        i0.ɵɵtemplate(9, ReactiveFormComponent_span_9_Template, 3, 1, \"span\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 3)(11, \"label\", 7);\n        i0.ɵɵtext(12, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"input\", 8);\n        i0.ɵɵtemplate(14, ReactiveFormComponent_span_14_Template, 2, 0, \"span\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 9)(16, \"h4\");\n        i0.ɵɵtext(17, \"Your Hobbies\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function ReactiveFormComponent_Template_button_click_18_listener() {\n          return ctx.onAddHobby();\n        });\n        i0.ɵɵtext(19, \"Add Hobby\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(20, ReactiveFormComponent_div_20_Template, 2, 1, \"div\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 3)(22, \"label\", 12);\n        i0.ɵɵtext(23, \"Account Status\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"select\", 13);\n        i0.ɵɵtemplate(25, ReactiveFormComponent_option_25_Template, 2, 2, \"option\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(26, ReactiveFormComponent_div_26_Template, 4, 2, \"div\", 15);\n        i0.ɵɵelementStart(27, \"button\", 16);\n        i0.ɵɵtext(28, \"Submit\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(29, \"div\", 17);\n        i0.ɵɵlistener(\"click\", function ReactiveFormComponent_Template_div_click_29_listener() {\n          return ctx.onStart();\n        });\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(30, \"svg\", 18);\n        i0.ɵɵelement(31, \"path\", 19);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.signupForm);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", !ctx.signupForm.get(\"userData.username\").valid && ctx.signupForm.get(\"userData.username\").touched);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formControlName\", \"email\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.signupForm.get(\"userData.email\").valid && ctx.signupForm.get(\"userData.email\").touched);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.signupForm.get(\"hobbies\")[\"controls\"]);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.accountStatuses);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.sexes);\n      }\n    },\n    directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormGroupName, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlName, i3.NgIf, i2.FormArrayName, i3.NgForOf, i2.SelectControlValueAccessor, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.RadioControlValueAccessor],\n    styles: [\".box[_ngcontent-%COMP%]{margin:10px 50px}.btn-secondary[_ngcontent-%COMP%]{background-color:#c4c4c4;color:#fff!important}input.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid tomato}\"]\n  });\n  return ReactiveFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}